namespace LambdaExpressions3
/*Написать обычный класс "Планета" со свойствами "Название", "Порядковый номер от Солнца", "Длина экватора", "Предыдущая планета" (ссылка на предыдущую Планету).
Написать класс "Каталог планет". В нем должен быть список планет - при создании экземпляра класса сразу заполнять его тремя планетами: Венера, Земля, Марс.
Добавить в класс "Каталог планет" метод "получить планету", который на вход принимает название планеты, а на выходе дает три поля: первые два поля порядковый 
номер планеты от Солнца и длину ее экватора, когда планета найдена, а последнее поле - для ошибки. В случае, если планету по названию найти не удалось, 
то этот метод должен возвращать строку "Не удалось найти планету" (именно строку, не Exception). 
На каждый третий вызов метод "получить планету" должен возвращать строку "Вы спрашиваете слишком часто".
В main-методе Вашей программы создать экземпляр "Каталога планет". У этого каталога вызвать метод "получить планету", 
передав туда последовательно названия Земля, Лимония, Марс. Для найденных планет в консоль выводить их название, порядковый номер и длину экватора.
А для ненайденных выводить строку ошибки, которую вернул метод "получить планету".

Метод "получить планету" теперь не должен проверять сколько вызовов делалось ранее. 
Вместо этого он должен просто вызвать PlanetValidator и передать в него название планеты, 
поиск которой производится. И если PlanetValidator вернул ошибку - передать ее на выход из метода третьим полем.
Из main-метода при вызове "получить планету" в качестве нового параметра передавать лямбду, 
которая делает всё ту же проверку, которая была и ранее - на каждый третий вызов она возвращает строку 
"Вы спрашиваете слишком часто" (в остальных случаях возвращает null). Результат исполнения программы должен получиться идентичный программе 2.*/
{
    using System;
    using System.Collections.Generic;

    class PlanetCatalog
    {
        private List<Planet> planets;

        public PlanetCatalog()
        {
            planets = new List<Planet>();
            // Заполняем "Каталог планет" тремя планетами: Венера, Земля, Марс.
            Planet venus = new("Венера", 2, 38025);
            Planet earth = new("Земля", 3, 40075, venus);
            Planet mars = new("Марс", 4, 21344, earth);

            planets.Add(venus);
            planets.Add(earth);
            planets.Add(mars);
        }

        public (int, double, string?) getPlanet(string name, Program.PlanetValidator planetValidator)
        {
            var validator = planetValidator(name);
            if (validator != null) return (0, 0, validator);
            // Ищем планету по названию
            foreach (var planet in planets)
            {
                if (planet.name.Equals(name, StringComparison.OrdinalIgnoreCase))
                {
                    return (planet.number, planet.equatorLength, null);
                }
            }
            // Если планета не найдена
            return (0, 0, "Не удалось найти планету");
        }
    }

}
